<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simple Web Page with Yandex.Metrika</title>
    <!-- Initialize dataLayer -->
    <script type="text/javascript">
        window.dataLayer = window.dataLayer || [];
    </script>
    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
        (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

        ym(95045415, "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true,
            webvisor:true,
            ecommerce:"dataLayer"
        });
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/95045415" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
</head>
<body>
    <h1>Simple Web Page</h1>
    <button id="myButton">Click Me!</button>
    <button id="purchaseButton">Purchase</button>

    <script>

                    ym(95045415, 'getClientID', function(clientID) {
  alert("Purchase made!");
});
        
        // JavaScript to handle "Click Me!" button click
        document.getElementById("myButton").addEventListener("click", function() {
            ym(95045415, 'reachGoal', 'clk02');
            alert("Button Clicked!");
        });

        // JavaScript to handle "Purchase" button click
        document.getElementById("purchaseButton").addEventListener("click", function() {
            // Initialize product data
            var productData = {
                id: "product123",
                name: "Sample Product",
                price: 50.0,
                quantity: 1
            };

            // Push eCommerce data to dataLayer
            dataLayer.push({
                "ecommerce": {
                    "currencyCode": "USD",
                    "purchase": {
                        "actionField": {
                            "id": "order123",
                            goal_id: 95045415  // your goal number
                        },
                        "products": [productData]
                    }
                }
            });

            ym(95045415, 'getClientID', function(clientID) {
  alert("Purchase made!");
});

            alert("Purchase made!");
        });
    </script>
</body>
</html>
